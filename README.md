# Delivery Service Console Application

**Описание проекта**  
Данный проект представляет собой консольное приложение для службы доставки, предназначенное для фильтрации заказов на основе заданных параметров: район доставки и время первого заказа. Приложение поддерживает загрузку входных данных из CSV-файла, логирование операций и сохранение результатов фильтрации в файл. Реализована обработка ошибок и валидация данных.

**Основные функции**  
- Загрузка данных о заказах из файла CSV.  
- Фильтрация заказов по указанному району и времени первого заказа.  
- Запись результатов фильтрации в файл CSV.  
- Логирование операций и ошибок в указанный лог-файл.  
- Обработка ошибок и валидация входных данных.  
- Настройка через аргументы командной строки.

**Установка и запуск**

1. Клонируйте репозиторий:  
   `git clone https://github.com/DemDanV/delivery-service.git`  
   `cd delivery-service`

2. Постройте проект:  
   `dotnet build`

**Запуск**  
Приложение запускается с параметрами командной строки:

`dotnet run -- _cityDistrict="A" _firstDeliveryDateTime="2024-11-06 12:00:00" _deliveryLog="logs.txt" _deliveryOrder="output.csv"`

**Параметры**  
- `_cityDistrict` — район доставки для фильтрации.  
- `_firstDeliveryDateTime` — время первого заказа в формате `yyyy-MM-dd HH:mm:ss`.  
- `_deliveryLog` — путь к файлу для записи логов (расширение автоматически добавляется, если отсутствует).  
- `_deliveryOrder` — путь к файлу для сохранения результатов (расширение автоматически добавляется, если отсутствует).

**Структура проекта**  
- **Program.cs**: точка входа приложения, обработка аргументов и запуск основных функций.  
- **OrderRepository.cs**: модуль для загрузки и сохранения заказов.  
- **OrderService.cs**: логика фильтрации и валидации заказов.  
- **Logger.cs**: модуль логирования.  
- **Validation.cs**: модуль валидации данных.  
- **Tests/**: тесты для проверки работоспособности приложения (используется xUnit).

**Примеры использования**

- **Запуск с полным набором параметров**:  
   `dotnet run -- _cityDistrict="B" _firstDeliveryDateTime="2024-11-06 10:30:00" _deliveryLog="app_logs/log.txt" _deliveryOrder="results/orders.csv"`

- **Запуск с указанием только обязательных параметров**:  
   `dotnet run -- _cityDistrict="C" _firstDeliveryDateTime="2024-11-06 08:00:00"`

**Логирование**  
Логирование ведется в файл, указанный параметром `_deliveryLog`. Лог содержит информацию о начале и завершении работы приложения, успешной фильтрации заказов и возникших ошибках.

**Тестирование**  
Для запуска тестов выполните:  
`dotnet test`

**Обработка ошибок и валидация**  
Приложение обрабатывает следующие типы ошибок:  
- Неправильный формат даты и времени.  
- Некорректные данные в входных файлах.  
- Ошибки чтения/записи файлов.